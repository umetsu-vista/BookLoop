# BookLoop — 要件定義書 v1.0

> **最終更新:** 2026-02-24
> **ステータス:** ドラフト
> **開発体制:** 個人開発（フルスタック）

---

## 1. プロダクト概要

### 1.1 プロダクトビジョン

**「読む → 考える → 動く」のループを、毎日まわし続ける。**

BookLoop は、あらゆるジャンルの読書を「習慣化」し、読んだ内容を「資産化」するためのリーディング・コンパニオンアプリである。小説、ビジネス書、教養書、技術書、漫画——ジャンルを問わず、ストリーク・タイマーで継続を支え、AI がジャンルに応じた振り返りと内省を促進し、コーチが次の一歩を導く。

### 1.2 ターゲットユーザー

| セグメント | ペルソナ例 | 主な課題 |
|---|---|---|
| **習慣化したい読書好き** | 24 歳デザイナー。小説が好きだが忙しくて積読が増える一方 | 読書時間の確保・習慣の継続 |
| **個人学習者** | 28 歳 SaaS 営業。月 2 冊読みたいが 3 日坊主 | 習慣の継続・モチベーション維持 |
| **自己投資層** | 35 歳 PM。読んでも実務に活かせない | インプット→アウトプット変換 |
| **ラーニングサークル** | スタートアップ 5 人チーム。輪読会を仕組み化したい | 議論の場・共通言語の欠如 |

### 1.3 対応ジャンル

小説・ビジネス書・教養書・技術書・漫画・エッセイ・学術書など**すべての書籍ジャンル**を対象とする。AI 機能（Phase 2）はジャンルを自動判定し、ジャンルに最適化された体験を提供する。

### 1.4 競合ポジショニングと差別化戦略

**市場の空白:** 日本市場において「習慣化エンジン（タイマー＋ストリーク）」を持つ読書アプリは事実上不在。海外勢（Bookly 等）は日本語対応が弱く、国内勢（ブクログ・読書メーター）は記録＋SNS 型で習慣化の仕掛けがない。

| 競合 | 強み | BookLoop が勝つ点 |
|---|---|---|
| ブクログ / 読書メーター | 大規模コミュニティ・レビュー蓄積 | タイマー・ストリークによる習慣化エンジン |
| Bookly（海外） | タイマー・ストリーク・統計の完成度 | 日本語ネイティブ体験 / 外部アプリ連携 / ジャンル別 AI（Phase 2） |
| Bookmory（海外） | タイマー・統計 | 日本語品質 / UX の洗練度 |

**MVP の差別化コア: 「どこで読んでも、ぜんぶ BookLoop に記録される」**

既存アプリはすべて「アプリ内でタイマーを回す」体験に閉じている。しかし実際のユーザーは Kindle・Kobo・紙の本を横断して読んでいる。BookLoop は**外部読書アプリとのタイマー連携**と**あとから記録**を一級機能として提供し、「読書体験を一元管理するハブ」というポジションを確立する。

### 1.5 解決する課題と価値提供

| # | ユーザー課題 | BookLoop の価値提供 |
|---|---|---|
| C1 | 読書習慣の継続が難しい | ストリーク・タイマー・リマインドで「読む」を日常に定着 |
| C2 | 読んだ内容の整理と活用が弱い | AI がジャンル別テンプレート（要約 / 感想 / 考察）と問いを生成し、振り返りを支援 |
| C3 | 本を話題にした議論の場が少ない | 読書サークル・ディスカッション機能で高品質な対話を提供 |

---

## 2. フェーズ戦略とスコープ

### 2.1 フェーズ定義

```
Phase 1 (MVP)          Phase 2                Phase 3
読書習慣エンジン        AI ナレッジ層           ソーシャル＆成長
─────────────────  →  ─────────────────  →  ─────────────────
• 本棚管理              • AI 要約テンプレート    • 読書サークル
• 読書セッション        • 内省プロンプト生成     • ディスカッション
• ストリーク＆統計      • AI コーチ（進捗）      • レコメンドエンジン
• リマインド通知        • 読書ノート検索         • ランキング・実績
• 認証・プロフィール    • 次の一冊提案           • 外部共有・OGP
```

### 2.2 MVP（Phase 1）スコープ — 機能一覧

> **判断基準:** "これがないと毎日アプリを開く理由がない" 機能のみ。

| ID | 機能 | 優先度 | 概要 |
|---|---|---|---|
| **F-01** | ユーザー認証 | Must | メール / Google OAuth / Apple ID によるサインアップ・ログイン |
| **F-02** | プロフィール設定 | Must | 表示名、アイコン、読書目標（冊数 / 日数）の設定 |
| **F-03** | 本棚管理 | Must | ISBN / タイトル検索で書籍追加。ステータス管理（読みたい / 読書中 / 読了） |
| **F-04** | 読書セッション | Must | タイマー開始 → 読書中 → 終了。ページ範囲・メモを記録 |
| **F-05** | ストリーク管理 | Must | 連続読書日数のカウント・表示。フリーズ機能（月 2 回まで） |
| **F-06** | 読書統計ダッシュボード | Must | 週 / 月 / 累計の読書時間、冊数、ストリークを可視化 |
| **F-07** | リマインド通知 | Should | 設定した時刻にプッシュ通知（モバイル）/ メール通知（Web） |
| **F-07b** | 外部読書アプリ連携 | Should | Kindle / Kobo / Apple Books 等での読書時間を BookLoop セッションとして記録 |
| **F-08** | 読書メモ | Should | セッション中 / 後に自由テキストメモを保存。書籍に紐づけ |
| **F-09** | 書籍詳細ページ | Must | 書影・書籍情報・読書進捗・メモ一覧を集約表示 |
| **F-10** | オンボーディング | Must | 初回起動時に目標設定 → 最初の 1 冊追加 → 初回セッション誘導 |

### 2.3 Phase 2 スコープ（概要）

| ID | 機能 | 概要 |
|---|---|---|
| F-11 | AI 振り返りテンプレート（ジャンル別） | 書籍のジャンルを自動判定し、最適なテンプレートを生成。**ビジネス書・教養書:** 3 行要約・キーポイント・行動転換の問い。**小説:** 感想・考察・テーマ深掘りプロンプト（⚠️ ネタバレ配慮モード搭載）。**技術書:** 学習メモ・コード/概念整理。**漫画:** 名シーン記録・キャラクター考察 |
| F-12 | 内省プロンプト（ジャンル適応） | セッション終了時に AI がジャンルに応じた問いを提示。例: 小説→「この章で最も印象的だったシーンは？」、ビジネス書→「明日から実践できることは？」 |
| F-13 | AI コーチダッシュボード | 読書傾向分析（ジャンル分布含む）、目標達成予測、ペース調整アドバイスを提供 |
| F-14 | 次の一冊レコメンド | 読書履歴・メモ・ジャンル嗜好から関連書籍を提案。ジャンル横断のレコメンドにも対応 |
| F-15 | 読書ノート全文検索 | メモ・要約を横断検索。タグ・ハイライト機能 |

### 2.4 Phase 3 スコープ（概要）

| ID | 機能 | 概要 |
|---|---|---|
| F-16 | 読書サークル | グループ作成、メンバー招待、共通本棚 |
| F-17 | ディスカッション | 書籍・章単位のスレッド式議論 |
| F-18 | アクティビティフィード | サークル内の読書活動を共有 |
| F-19 | 実績バッジ | マイルストーン達成時のバッジ付与（ゲーミフィケーション） |
| F-20 | 外部共有 | 読書記録・統計の SNS シェア（OGP 画像自動生成） |

---

## 3. MVP 機能詳細

### 3.1 F-01: ユーザー認証

**目的:** 安全かつ低摩擦でユーザーを識別する。

- **認証方式:** メール + パスワード / Google OAuth 2.0 / Sign in with Apple
- **セッション管理:** JWT（アクセストークン 15 分 + リフレッシュトークン 30 日）
- **パスワードリセット:** メールリンク方式
- **退会:** アカウント削除リクエスト → 30 日猶予後に完全削除
- **受入条件:**
  - 各認証方式でサインアップ → ログイン → ログアウトが完了すること
  - 不正トークンでの API アクセスが 401 で拒否されること

### 3.2 F-03: 本棚管理

**目的:** ユーザーの読書ライフを一元管理する場所を提供する。

- **書籍追加:**
  - ISBN バーコードスキャン（モバイルのみ）
  - タイトル / 著者名キーワード検索（Google Books API or OpenBD）
  - 手動入力（タイトル・著者・ページ数）
- **ステータス管理:** `WANT_TO_READ` → `READING` → `FINISHED`
- **表示:** グリッド表示（書影サムネイル）/ リスト表示 切替
- **ソート:** 追加日 / タイトル / 著者 / ステータス
- **受入条件:**
  - ISBN 検索で書籍情報が自動入力されること
  - ステータス遷移が正しく反映されること
  - 本棚に 100 冊以上登録してもパフォーマンスが劣化しないこと（描画 < 1 秒）

### 3.3 F-04: 読書セッション

**目的:** 「今日、本を読んだ」という事実を確実に記録する。

- **セッションフロー:**
  1. 書籍を選択 →「読書を始める」タップ
  2. タイマー開始（カウントアップ）。バックグラウンド動作対応
  3. 任意のタイミングでメモ入力可
  4. 「終了」タップ → 読んだページ範囲を入力 → セッション保存
- **データモデル:**
  - `session_id`, `user_id`, `book_id`
  - `started_at`, `ended_at`, `duration_seconds`
  - `page_start`, `page_end`
  - `memo` (optional, text)
- **制約:**
  - 同時に複数セッションは不可（1 ユーザー 1 アクティブセッション）
  - 最小記録時間: 1 分（それ未満は破棄確認）
  - 24 時間以上のセッションは自動終了
- **受入条件:**
  - タイマーがバックグラウンドでも正確に計測されること
  - セッション終了後、ストリークと統計に即時反映されること

### 3.4 F-05: ストリーク管理

**目的:** 連続記録の可視化で「途切れさせたくない」動機を生む。

- **ストリークルール:**
  - 1 日 1 セッション以上（1 分以上）完了で当日カウント
  - 日付境界はユーザーのローカルタイムゾーン基準
  - 最長ストリーク（過去最高記録）を保持・表示
- **フリーズ機能:**
  - 月 2 回まで使用可能。事前 or 当日 23:59 までに発動
  - フリーズ使用日はストリークを維持（加算はしない）
- **表示:**
  - ホーム画面に現在ストリーク数を大きく表示（炎アイコン🔥）
  - カレンダーヒートマップで月間の読書記録を可視化
- **受入条件:**
  - タイムゾーンをまたいでもストリークが正しくカウントされること
  - フリーズ使用でストリークが維持されること

### 3.5 F-06: 読書統計ダッシュボード

**目的:** 成長の実感と自己効力感を提供する。

- **表示指標:**
  - 今週 / 今月 / 累計の読書時間（時間・分）
  - 今週 / 今月 / 累計の読了冊数
  - 現在ストリーク / 最長ストリーク
  - 今月の読書ページ数
  - 平均セッション時間
- **グラフ:**
  - 週間バーチャート（日別読書時間）
  - 月間カレンダーヒートマップ
- **受入条件:**
  - セッション完了後、ダッシュボードがリアルタイムに更新されること
  - データが 0 件でも空状態が適切に表示されること

### 3.6 F-07b: 外部読書アプリ連携

**目的:** Kindle / Kobo / Apple Books 等で読書するユーザーも、BookLoop でセッションを一元記録できるようにする。

- **対応アプリ（MVP）:** Kindle, 楽天Kobo, Apple Books（主要 3 サービス）
- **記録方式（段階的に拡張）:**

| 段階 | 方式 | 概要 | 対応 OS |
|---|---|---|---|
| **MVP** | 手動タイマー連携 | BookLoop でタイマー開始 → 外部アプリで読書 → BookLoop に戻って終了 | iOS / Android / Web |
| **MVP** | 手動ログ入力 | 読書後に「あとから記録」で書籍・時間・ページを手入力 | iOS / Android / Web |
| **Phase 2** | Android アプリ使用検知 | UsageStatsManager で Kindle 等のフォアグラウンド時間を自動検出 → セッション候補として提案 | Android のみ |
| **Phase 2** | iOS ショートカット連携 | iOS ショートカットアプリ経由で「Kindle を開いたら BookLoop タイマー開始」を設定可能に | iOS のみ |

- **手動タイマー連携フロー（MVP）:**
  1. BookLoop で書籍を選択 →「読書をはじめる」タップ
  2. 「BookLoop 内で読む / 外部アプリで読む」を選択
  3. 「外部アプリで読む」→ タイマー開始。通知バーに計測中を常時表示
  4. 読書終了後、BookLoop に戻る or 通知タップ → セッション終了フロー
- **あとから記録フロー（MVP）:**
  1. ホーム or 書籍詳細から「あとから記録」をタップ
  2. 書籍選択 → 読書日時・時間・ページ範囲を入力 → 保存
  3. ストリーク・統計に反映（同日の記録はストリークにカウント）
- **制約:**
  - 手動入力は過去 7 日以内の読書のみ記録可能（不正防止）
  - 同一時間帯に複数セッションの重複登録は不可
- **受入条件:**
  - 外部アプリで読書中もタイマーがバックグラウンドで正確に動作すること
  - あとから記録したセッションがストリーク・統計に正しく反映されること
  - 通知バーからワンタップでセッション終了画面に遷移できること

### 3.7 F-10: オンボーディング

**目的:** 初回 3 分以内に「最初のセッション完了」まで導く。

- **フロー:**
  1. ウェルカム画面（BookLoop のコンセプト紹介 — 3 スライド以内）
  2. 読書目標設定（週何日 / 月何冊 — プリセット選択 + カスタム）
  3. 最初の 1 冊を追加（検索 or スキップ）
  4. 「さっそく読書を始めよう！」→ セッション画面へ誘導
- **受入条件:**
  - オンボーディング完了率 > 80%（目標 KPI）
  - 途中離脱してもホームからいつでも再設定可能であること

---

## 4. 非機能要件

### 4.1 パフォーマンス

| 指標 | 目標値 |
|---|---|
| 初回ロード（LCP） | < 2.5 秒 |
| API レスポンス（p95） | < 300 ms |
| オフライン対応 | セッション記録はローカル保存 → 復帰時に同期 |

### 4.2 セキュリティ

- 通信: 全 API エンドポイント HTTPS 必須
- 認証: JWT + HttpOnly Cookie（Web）/ Secure Storage（モバイル）
- パスワード: bcrypt ハッシュ（cost factor ≥ 12）
- 個人情報: GDPR / 個人情報保護法を考慮したデータ管理
- レート制限: API エンドポイントにリクエスト制限を設定

### 4.3 可用性・運用

| 項目 | 目標 |
|---|---|
| 稼働率 | 99.5%（月間ダウンタイム < 3.6 時間） |
| バックアップ | DB 日次自動バックアップ（7 世代保持） |
| モニタリング | エラーレート、レスポンスタイム、アクティブユーザー数 |
| ログ | 構造化ログ（JSON）。30 日保持 |

### 4.4 対応環境

| プラットフォーム | 対応範囲 |
|---|---|
| iOS | 16.0 以上 |
| Android | 12 (API 31) 以上 |
| Web ブラウザ | Chrome / Safari / Edge 最新 2 バージョン |
| 画面サイズ | 320px 〜 1440px（レスポンシブ） |

---

## 5. 技術アーキテクチャ（推奨構成）

> 個人開発 × モバイル + Web 両対応を前提に、**最小運用コスト**と**開発速度**を重視。

### 5.1 全体構成図

```
┌─────────────────────────────────────────────────┐
│                   クライアント                      │
│                                                   │
│  ┌──────────────┐     ┌──────────────────────┐   │
│  │  Mobile App  │     │      Web App         │   │
│  │ React Native │     │     Next.js          │   │
│  │  (Expo)      │     │  (App Router)        │   │
│  └──────┬───────┘     └──────────┬───────────┘   │
└─────────┼────────────────────────┼───────────────┘
          │         REST API       │
          └───────────┬────────────┘
                      ▼
          ┌───────────────────────┐
          │     Backend API       │
          │     Next.js API       │
          │   Routes / tRPC       │
          └───────────┬───────────┘
                      │
        ┌─────────────┼─────────────┐
        ▼             ▼             ▼
  ┌──────────┐ ┌──────────┐ ┌──────────────┐
  │  Supabase │ │ Supabase │ │  External    │
  │  Auth     │ │ Postgres │ │  APIs        │
  │           │ │ + Storage│ │ (Books API)  │
  └──────────┘ └──────────┘ └──────────────┘
```

### 5.2 技術スタック

| レイヤー | 技術 | 選定理由 |
|---|---|---|
| **モバイル** | React Native (Expo) | Web と TypeScript 共有。Expo で個人開発の負荷を最小化 |
| **Web フロントエンド** | Next.js (App Router) | SSR/ISR でパフォーマンス確保。API Routes でバックエンド兼務 |
| **共有ロジック** | TypeScript + monorepo (Turborepo) | 型安全性。モバイル / Web 間でバリデーション・型定義を共有 |
| **API 通信** | tRPC or REST (Next.js API Routes) | 型安全な API 通信。個人開発の生産性を重視 |
| **BaaS / DB** | Supabase (PostgreSQL) | 認証・DB・Storage・Realtime を一括提供。無料枠が手厚い |
| **プッシュ通知** | Expo Notifications + Supabase Edge Functions | Expo の通知基盤でモバイルプッシュ対応 |
| **ホスティング** | Vercel (Web) + Expo EAS (Mobile) | Next.js との親和性。CI/CD が容易 |
| **モニタリング** | Sentry | エラートラッキング。無料枠で個人開発に十分 |
| **書籍データ** | Google Books API / OpenBD | ISBN → 書籍メタデータ取得 |

### 5.3 データモデル（主要エンティティ）

```sql
-- ユーザー
users (
  id           UUID PRIMARY KEY,    -- Supabase Auth uid
  display_name VARCHAR(50) NOT NULL,
  avatar_url   TEXT,
  timezone     VARCHAR(50) DEFAULT 'Asia/Tokyo',
  goal_days_per_week  INT DEFAULT 5,
  goal_books_per_month INT DEFAULT 2,
  created_at   TIMESTAMPTZ DEFAULT now(),
  updated_at   TIMESTAMPTZ DEFAULT now()
);

-- 書籍マスタ（ユーザー横断で共有）
books (
  id           UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  isbn         VARCHAR(13) UNIQUE,
  title        VARCHAR(500) NOT NULL,
  author       VARCHAR(500),
  publisher    VARCHAR(200),
  cover_url    TEXT,
  total_pages  INT,
  description  TEXT,
  genre        VARCHAR(50),
               -- NOVEL | BUSINESS | LIBERAL_ARTS | TECH
               -- | MANGA | ESSAY | ACADEMIC | OTHER
  created_at   TIMESTAMPTZ DEFAULT now()
);

-- ユーザー × 書籍（本棚）
user_books (
  id           UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id      UUID REFERENCES users(id) ON DELETE CASCADE,
  book_id      UUID REFERENCES books(id),
  status       VARCHAR(20) DEFAULT 'WANT_TO_READ',
               -- WANT_TO_READ | READING | FINISHED
  current_page INT DEFAULT 0,
  started_at   TIMESTAMPTZ,
  finished_at  TIMESTAMPTZ,
  created_at   TIMESTAMPTZ DEFAULT now(),
  updated_at   TIMESTAMPTZ DEFAULT now(),
  UNIQUE(user_id, book_id)
);

-- 読書セッション
reading_sessions (
  id           UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id      UUID REFERENCES users(id) ON DELETE CASCADE,
  book_id      UUID REFERENCES books(id),
  started_at   TIMESTAMPTZ NOT NULL,
  ended_at     TIMESTAMPTZ,
  duration_sec INT,
  page_start   INT,
  page_end     INT,
  memo         TEXT,
  source       VARCHAR(20) DEFAULT 'IN_APP',
               -- IN_APP | EXTERNAL_TIMER | MANUAL_LOG
  external_app VARCHAR(30),
               -- KINDLE | KOBO | APPLE_BOOKS | OTHER | NULL
  created_at   TIMESTAMPTZ DEFAULT now()
);

-- ストリーク
streaks (
  id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id         UUID REFERENCES users(id) ON DELETE CASCADE,
  current_streak  INT DEFAULT 0,
  longest_streak  INT DEFAULT 0,
  last_active_date DATE,
  updated_at      TIMESTAMPTZ DEFAULT now()
);

-- ストリークフリーズ
streak_freezes (
  id           UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id      UUID REFERENCES users(id) ON DELETE CASCADE,
  used_date    DATE NOT NULL,
  month        VARCHAR(7) NOT NULL,  -- '2026-02' 形式
  created_at   TIMESTAMPTZ DEFAULT now(),
  UNIQUE(user_id, used_date)
);

-- 読書メモ（セッション外でも作成可能）
reading_notes (
  id           UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id      UUID REFERENCES users(id) ON DELETE CASCADE,
  book_id      UUID REFERENCES books(id),
  session_id   UUID REFERENCES reading_sessions(id),
  content      TEXT NOT NULL,
  page_number  INT,
  created_at   TIMESTAMPTZ DEFAULT now(),
  updated_at   TIMESTAMPTZ DEFAULT now()
);
```

---

## 6. 画面一覧（MVP）

| # | 画面名 | 概要 | 主要アクション |
|---|---|---|---|
| S-01 | スプラッシュ | アプリ起動画面 | — |
| S-02 | オンボーディング | 目標設定 → 初回書籍追加 | 目標選択、書籍検索 |
| S-03 | ログイン / サインアップ | 認証画面 | メール入力、OAuth |
| S-04 | ホーム | 今日のストリーク、読書中の本、クイックスタート | セッション開始 |
| S-05 | 本棚 | 書籍一覧（ステータスタブ切替） | 書籍追加、ステータス変更 |
| S-06 | 書籍検索 | ISBN / キーワードで書籍検索 | 検索、本棚に追加 |
| S-07 | 書籍詳細 | 書影、進捗、メモ一覧 | セッション開始、メモ閲覧 |
| S-08 | 読書セッション | タイマー、メモ入力 | 開始、一時停止、終了 |
| S-08b | 外部アプリ読書中 | 通知バー常時表示、タイマー計測 | 終了、BookLoop に戻る |
| S-08c | あとから記録 | 書籍選択、日時・時間・ページ入力 | 保存 |
| S-09 | セッション完了 | ページ範囲入力、振り返り | 保存、メモ追加 |
| S-10 | 統計ダッシュボード | 週間 / 月間グラフ、累計データ | 期間切替 |
| S-11 | プロフィール / 設定 | 目標変更、通知設定、アカウント管理 | 各種設定変更 |

---

## 7. KPI・成功指標

### 7.1 North Star Metric

**週間アクティブセッション数（WAU × 平均セッション回数/週）**

> "どれだけ多くの人が、どれだけ頻繁に読書しているか" を一指標で表す。

### 7.2 MVP フェーズ KPI

| カテゴリ | 指標 | 目標値 | 計測方法 |
|---|---|---|---|
| **獲得** | 月間新規登録数 | 500 人 | 認証ログ |
| **活性化** | オンボーディング完了率 | > 80% | イベントトラッキング |
| **継続** | 7 日目リテンション | > 30% | コホート分析 |
| **継続** | 平均ストリーク日数 | > 5 日 | streaks テーブル集計 |
| **エンゲージメント** | 週あたり平均セッション数 | > 3 回 | sessions テーブル集計 |
| **エンゲージメント** | 平均セッション時間 | > 15 分 | sessions テーブル集計 |

---

## 8. リリースロードマップ

```
2026 Q2               2026 Q3               2026 Q4
──────────────────    ──────────────────    ──────────────────
 Phase 1: MVP          Phase 2: AI 層        Phase 3: Social

 4月 設計・DB構築       7月 AI要約テンプレ     10月 サークル機能
 5月 認証・本棚・        ート / 内省プロンプト   11月 ディスカッション
     セッション         8月 AIコーチ            12月 実績バッジ
 6月 ストリーク・        ダッシュボード              外部共有
     統計・テスト       9月 レコメンド＆
     → β リリース          ノート検索
```

---

## 9. リスクと対策

| # | リスク | 影響度 | 対策 |
|---|---|---|---|
| R1 | 個人開発のリソース不足で遅延 | 高 | MVP スコープを厳守。Phase 2 以降は検証結果で判断 |
| R2 | モバイル + Web 両対応の工数肥大 | 高 | Expo + Next.js で TypeScript 共有。UI は最小限で統一 |
| R3 | タイマーのバックグラウンド精度 | 中 | ローカル記録 + サーバー補正。OS 制約はドキュメント化 |
| R4 | 書籍 API の制限・停止 | 中 | Google Books + OpenBD の二系統。キャッシュ層を設置 |
| R5 | ユーザー獲得の初速が出ない | 中 | β テスターを 50 人確保してからリリース。SNS 共有機能を優先 |
| R6 | iOS でのアプリ使用検知が制限される | 中 | MVP は手動タイマー＋あとから記録で対応。iOS ショートカット連携を Phase 2 で検証 |

---

## 10. 用語集

| 用語 | 定義 |
|---|---|
| **セッション** | ユーザーが「読書開始」から「読書終了」までを記録する 1 回の読書行為 |
| **ストリーク** | 1 日 1 セッション以上を達成した連続日数 |
| **フリーズ** | ストリークを途切れさせずに 1 日休むための救済機能 |
| **本棚** | ユーザーが登録した書籍の一覧管理画面 |
| **内省プロンプト** | AI が生成する、読書内容を振り返るための質問 |
| **外部アプリ連携** | Kindle / Kobo / Apple Books 等の電子書籍アプリでの読書を BookLoop のセッションとして記録する機能 |
| **あとから記録** | 読書後に手動で日時・時間・ページ範囲を入力してセッションを登録する機能 |

---

## 付録 A: 今後の検討事項

- [ ] マネタイズモデル（フリーミアム / サブスクリプション）の設計
- [ ] Phase 2 での LLM プロバイダー選定とコスト試算
- [ ] **ネタバレ防止ポリシー設計** — 小説・漫画の AI 要約/プロンプトにおけるネタバレ配慮レベルの定義（未読ユーザーへの表示制御、ネタバレタグ運用ルール）
- [ ] **ジャンル自動判定ロジック** — Google Books API のカテゴリ情報 + LLM 補正で精度を担保する方式の検証
- [ ] **外部読書アプリ自動検知** — Android UsageStatsManager の精度検証、iOS Screen Time API の利用可否調査（Phase 2）
- [ ] App Store / Google Play 審査対応（Phase 1 は TestFlight / Internal Testing で配布）
- [ ] アクセシビリティ対応方針（WCAG 2.1 AA 準拠レベルの決定）
- [ ] 多言語対応の要否（MVP は日本語のみ → 英語展開の判断時期）
